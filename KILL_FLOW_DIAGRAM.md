# Kill Notification System - Visual Flow

## High-Level Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  KILL NOTIFICATION SYSTEM                         â”‚
â”‚                    Murder Mystery Game                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Killer's       â”‚         â”‚  Backend Server  â”‚         â”‚  Victim's       â”‚
â”‚  Device         â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  (Express API)   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  Device         â”‚
â”‚                 â”‚  Scan   â”‚                  â”‚  Push   â”‚                 â”‚
â”‚  [QR Scanner]   â”‚  Code   â”‚  /kill?victim=X  â”‚  Notif  â”‚  ğŸ”” Notificationâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Detailed Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          KILL PROCESS FLOW                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    KILLER                    SERVER                      VICTIM
      â”‚                         â”‚                           â”‚
      â”‚  1. Scan QR Code        â”‚                           â”‚
      â”‚    /kill?victim=zarin   â”‚                           â”‚
      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                           â”‚
      â”‚                         â”‚                           â”‚
      â”‚                         â”‚  2. Find Player "Zarin"   â”‚
      â”‚                         â”‚     by First Name         â”‚
      â”‚                         â”‚                           â”‚
      â”‚                         â”‚  3. Check if Already Down â”‚
      â”‚                         â”‚     âŒ If down: Error     â”‚
      â”‚                         â”‚     âœ… If up: Continue    â”‚
      â”‚                         â”‚                           â”‚
      â”‚                         â”‚  4. Mark as Down          â”‚
      â”‚                         â”‚     downUntil = now+5min  â”‚
      â”‚                         â”‚                           â”‚
      â”‚                         â”‚  5. Save to players.json  â”‚
      â”‚                         â”‚                           â”‚
      â”‚                         â”‚  6. Emit Socket.io Event  â”‚
      â”‚                         â”‚     'player:down'         â”‚
      â”‚                         â”‚                           â”‚
      â”‚                         â”‚  7. Get Push Subscription â”‚
      â”‚                         â”‚     for Zarin             â”‚
      â”‚                         â”‚                           â”‚
      â”‚                         â”‚  8. Send Push Notificationâ”‚
      â”‚                         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
      â”‚                         â”‚                           â”‚  9. Browser/Service
      â”‚                         â”‚                           â”‚     Worker Receives
      â”‚                         â”‚                           â”‚     Push Event
      â”‚                         â”‚                           â”‚
      â”‚                         â”‚                           â”‚  10. Show Notification
      â”‚                         â”‚                           â”‚      "ğŸ’€ You've Been
      â”‚                         â”‚                           â”‚       Eliminated!"
      â”‚                         â”‚                           â”‚
      â”‚  11. Response:          â”‚                           â”‚
      â”‚      {ok: true,         â”‚                           â”‚
      â”‚       message: "...",   â”‚                           â”‚
      â”‚       notificationSent: â”‚                           â”‚
      â”‚       true}             â”‚                           â”‚
      â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                           â”‚
      â”‚                         â”‚                           â”‚
      â”‚                         â”‚                           â”‚  12. User Clicks
      â”‚                         â”‚                           â”‚      Notification
      â”‚                         â”‚                           â”‚
      â”‚                         â”‚                           â”‚  13. App Opens to
      â”‚                         â”‚                           â”‚      /profile
      â”‚                         â”‚                           â”‚
```

## QR Code Kill System

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      QR CODE KILL WORKFLOW                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

SETUP PHASE:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   GM/Admin   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚  Generate QR Codes for Each Player
       â”‚
       â”œâ”€â”€â–¶ Zarin's QR:  http://...kill?victim=zarin
       â”œâ”€â”€â–¶ Maya's QR:   http://...kill?victim=maya
       â”œâ”€â”€â–¶ Isla's QR:   http://...kill?victim=isla
       â”‚
       â””â”€â”€â–¶ Print QR Codes & Attach to Player Badges

GAME PHASE:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   KILLER     â”‚         â”‚  ZARIN'S QR  â”‚         â”‚  BACKEND     â”‚
â”‚              â”‚         â”‚              â”‚         â”‚              â”‚
â”‚  [Camera/    â”‚         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚         â”‚              â”‚
â”‚   Scanner]   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  â”‚ â–“â–“â–“â–“â–“â–“ â”‚  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  Process     â”‚
â”‚              â”‚  Scans  â”‚  â”‚ â–“â–“â–“â–“â–“â–“ â”‚  â”‚  URL    â”‚  Kill        â”‚
â”‚              â”‚         â”‚  â”‚ â–“â–“â–“â–“â–“â–“ â”‚  â”‚         â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚   /kill?     â”‚                â”‚
                         â”‚   victim=    â”‚                â”‚
                         â”‚   zarin      â”‚                â”‚ Send Push
                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚ Notification
                                                         â”‚
                                                         â–¼
                                                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                  â”‚  ZARIN'S     â”‚
                                                  â”‚  DEVICE      â”‚
                                                  â”‚              â”‚
                                                  â”‚  ğŸ””          â”‚
                                                  â”‚  "You've     â”‚
                                                  â”‚  Been        â”‚
                                                  â”‚  Killed!"    â”‚
                                                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## NFC Tag System

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      NFC TAG KILL WORKFLOW                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

SETUP:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  NFC Tags    â”‚
â”‚              â”‚
â”‚  [Tag 1] â”€â”€â”€â–¶ Programmed with: http://...kill?victim=zarin
â”‚  [Tag 2] â”€â”€â”€â–¶ Programmed with: http://...kill?victim=maya
â”‚  [Tag 3] â”€â”€â”€â–¶ Programmed with: http://...kill?victim=isla
â”‚              â”‚
â”‚  Attached to player badges or worn by players
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

GAME:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  KILLER'S    â”‚         â”‚  VICTIM'S    â”‚         â”‚  VICTIM'S    â”‚
â”‚  PHONE       â”‚   Tap   â”‚  NFC TAG     â”‚  URL    â”‚  DEVICE      â”‚
â”‚              â”‚         â”‚              â”‚ Opened  â”‚              â”‚
â”‚     ğŸ“±       â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚   [NFC]      â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚    ğŸ””        â”‚
â”‚              â”‚         â”‚  /kill?      â”‚         â”‚  Notificationâ”‚
â”‚              â”‚         â”‚  victim=X    â”‚         â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â†“                          â†“                         â†“
  Confirms                  Executes                  Receives
   Kill                      Kill                    Notification
```

## Notification Delivery Path

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            PUSH NOTIFICATION DELIVERY SYSTEM                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Server (Node.js)                    Push Service           Device
      â”‚                                   â”‚                   â”‚
      â”‚  1. Create Payload                â”‚                   â”‚
      â”‚     {title, body, icon, url}      â”‚                   â”‚
      â”‚                                   â”‚                   â”‚
      â”‚  2. Get Subscription              â”‚                   â”‚
      â”‚     from push_subscriptions.json  â”‚                   â”‚
      â”‚                                   â”‚                   â”‚
      â”‚  3. webPush.sendNotification()    â”‚                   â”‚
      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                   â”‚
      â”‚     VAPID authenticated            â”‚                   â”‚
      â”‚     Encrypted payload              â”‚                   â”‚
      â”‚                                   â”‚                   â”‚
      â”‚                                   â”‚  4. Push to Deviceâ”‚
      â”‚                                   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
      â”‚                                   â”‚                   â”‚
      â”‚                                   â”‚                   â”‚  5. Service Worker
      â”‚                                   â”‚                   â”‚     Wakes Up
      â”‚                                   â”‚                   â”‚     (sw.js)
      â”‚                                   â”‚                   â”‚
      â”‚                                   â”‚                   â”‚  6. showNotification()
      â”‚                                   â”‚                   â”‚     ğŸ’€ You've Been
      â”‚                                   â”‚                   â”‚        Eliminated!
      â”‚                                   â”‚                   â”‚
      â”‚                                   â”‚                   â”‚  7. User Sees/Hears
      â”‚                                   â”‚                   â”‚     ğŸ“± ğŸ”” Vibrate
      â”‚                                   â”‚                   â”‚
      â”‚                                   â”‚  8. Click Event   â”‚
      â”‚                                   â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
      â”‚                                   â”‚                   â”‚
      â”‚                                   â”‚                   â”‚  9. Open/Focus App
      â”‚                                   â”‚                   â”‚     Navigate to URL
      â”‚                                   â”‚                   â”‚
```

## Error Handling Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ERROR HANDLING SCENARIOS                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

SCENARIO 1: Player Not Found
/kill?victim=unknown
    â†“
Find player by first name
    â†“
Not found âŒ
    â†“
Return 404: "Player with first name 'unknown' not found"


SCENARIO 2: Player Already Down
/kill?victim=zarin
    â†“
Find player: Zarin âœ…
    â†“
Check downUntil: 1696435500000 (future timestamp)
    â†“
Already down âŒ
    â†“
Return 400: "Zarin is already down for 3 more minute(s)"


SCENARIO 3: Player Not Subscribed
/kill?victim=maya
    â†“
Find player: Maya âœ…
    â†“
Mark as down âœ…
    â†“
Try to send notification
    â†“
No subscription found âš ï¸
    â†“
Return 200: {ok: true, notificationSent: false}
Log: "âš ï¸ No subscriptions found for target players"


SCENARIO 4: Invalid Subscription (Expired)
/kill?victim=isla
    â†“
Find player: Isla âœ…
    â†“
Mark as down âœ…
    â†“
Send notification
    â†“
Push service returns 410 Gone âŒ
    â†“
Remove subscription from database ğŸ—‘ï¸
    â†“
Return 200: {ok: true, notificationSent: false}
Log: "ğŸ—‘ï¸ Removed invalid subscription for Isla"


SCENARIO 5: Success Path
/kill?victim=zarin
    â†“
Find player: Zarin âœ…
    â†“
Not already down âœ…
    â†“
Mark as down âœ…
    â†“
Send notification âœ…
    â†“
Push delivered successfully âœ…
    â†“
Return 200: {ok: true, notificationSent: true}
Log: "âœ… Notification sent to Zarin"
```

## Data Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        DATA PERSISTENCE                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

INPUT: /kill?victim=zarin

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  Read           â”‚
  â”‚  players.json   â”‚â”€â”€â–¶ Find "Zarin Niles" by first name "zarin"
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  Modify         â”‚â”€â”€â–¶ victim.downUntil = Date.now() + 300000
  â”‚  Player Object  â”‚    (5 minutes from now)
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  Write          â”‚â”€â”€â–¶ Save updated player data
  â”‚  players.json   â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  Read           â”‚â”€â”€â–¶ Find subscription for Zarin's playerId
  â”‚  push_sub.json  â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  Send Push      â”‚â”€â”€â–¶ webPush.sendNotification(subscription, payload)
  â”‚  Notification   â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  Emit Socket.io â”‚â”€â”€â–¶ io.emit('player:down', {targetId: zarin.id})
  â”‚  Event          â”‚    (Real-time UI update)
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


OUTPUT: {ok: true, message: "Zarin Niles has been eliminated!"}
```

## Timeline View

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 KILL EVENT TIMELINE (5 minutes)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

T+0s    ğŸ¯ QR Code Scanned
        â†“
T+0.1s  ğŸ“ Server processes kill request
        â†“
T+0.2s  ğŸ’¾ Player marked as down in database
        â†“
T+0.3s  ğŸ“¡ Socket.io event emitted (real-time UI update)
        â†“
T+0.5s  ğŸ”” Push notification sent to push service
        â†“
T+1s    ğŸ“± Notification arrives on victim's device
        â†“
T+2s    ğŸ”Š Device vibrates/makes sound
        â†“
T+5s    ğŸ‘ï¸ Victim sees notification
        â†“
T+10s   ğŸ‘† Victim clicks notification
        â†“
T+11s   ğŸŒ App opens to profile page
        â†“
T+5m    â° downUntil expires
        â†“
T+5m    âœ… Player can return to game
```

## Multi-Device Scenario

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        VICTIM WITH MULTIPLE SUBSCRIBED DEVICES                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

        Killer Scans QR Code
                 â†“
        Server sends notification
                 â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â†“                 â†“            â†“
   ğŸ“± Phone          ğŸ’» Laptop    âŒš Watch
   (Subscribed)      (Subscribed) (Browser)
        â”‚                 â”‚            â”‚
        â†“                 â†“            â†“
   ğŸ”” Notified      ğŸ”” Notified   âŒ Not supported
   âœ… Sound         âœ… Banner     (Watch browser
   âœ… Vibrate       âœ… Sound       doesn't support
   âœ… Lock screen                  push yet)
```
